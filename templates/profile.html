{% extends "layout.html" %}

{% block title %}Profile {% endblock %}

{% block main %}
<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow w-100" style="max-width: 500px;">
    <div class="card-body">
      <h2 class="card-title text-center mb-4">My Profile</h2>
      <form method="POST" autocomplete="off">
        <div class="mb-3">
          <label for="full_name" class="form-label">Full Name</label>
          <input
            type="text"
            class="form-control"
            id="full_name"
            name="full_name"
            value="{{ user.full_name }}"
            required
          >
        </div>
        <div class="mb-3">
          <label for="username" class="form-label">Email (Username)</label>
          <input
            type="email"
            class="form-control"
            id="username"
            name="username"
            value="{{ user.username }}"
            required
            autocomplete="username"
          >
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">
            New Password <small class="text-muted">(leave blank to keep current)</small>
          </label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            placeholder="••••••••"
            autocomplete="new-password"
          >
        </div>
        <div class="mb-3">
          <label for="confirm_password" class="form-label">Confirm Password</label>
          <input
            type="password"
            class="form-control"
            id="confirm_password"
            name="confirm_password"
            placeholder="••••••••"
            autocomplete="new-password"
          >
        </div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
          <button type="submit" class="btn btn-primary">Save Changes</button>
          <a href="{{ url_for(session.get('role') + '_dashboard') }}" class="btn btn-secondary ms-md-2">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
